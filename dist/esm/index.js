function K(t){return/^hsl\(/.test(t)||/^hsla\(/.test(t)?"hsl":/^rgb\(/.test(t)||/^rgba\(/.test(t)?"rgb":/^#[a-zA-Z0-9]+$/.test(t)?"hex":null}function E(t){if(t[0]!=="#")return null;let n=(()=>{let s=t.replace("#","");if(s.length===6||s.length===8){let e=[s.substring(0,2),s.substring(2,4),s.substring(4,6)];return s.length===6?e:e.concat([s.substring(6,8)])}else if(s.length===3||s.length===4){let e=s[0],r=s[1],o=s[2],d=s[3],c=[e+e,r+r,o+o];return s.length===3?c:c.concat([d+d])}return null})();if(!n)return null;let[i,l,b,f]=n,h=M(i),m=M(l),u=M(b),a=(()=>{let s=M(f);if(s!==null)return Math.round(s*(100/255))/100})();return h!==null&&m!==null&&u!==null?{r:h,g:m,b:u,a}:null}var M=t=>{let n=parseInt(t,16);return isNaN(n)?null:n};var q=t=>{let{r:n,g:i,b:l,a:b}=t;var f,h,m;let u=n/255,a=i/255,s=l/255,e=Math.max(Math.max(u,a),s),r=Math.min(Math.min(u,a),s);for(e==r?f=0:e==u?f=60*(a-s)/(e-r)+0:e==a?f=60*(s-u)/(e-r)+120:f=60*(u-a)/(e-r)+240;f<0;)f+=360;return h=(e+r)/2,e==r?m=0:m=h<.5?(e-r)/(e+r):(e-r)/(2-e-r),{h:Math.round(f),l:Math.round(h*100),s:Math.round(m*100),a:b}},I=q;function C(t,n){let i=t.split("/")[1]||n[3];if(i===void 0)return;let l=Number(i.replace("%",""));if(!isNaN(l))return l=i.includes("%")?l/100:l,l>1?1:l<0?0:l}function v(t){let n=t;n=n.replace(/^hsla\(/,""),n=n.replace(/^hsl\(/,""),n=n.replace(/\)$/,"");let i=n.includes(",")?n.split(","):n.split(" ");if(i.length>=3){let l=(()=>{let m=Number(i[0]);return isNaN(m)?null:m%360})(),b=(()=>{let m=Number(i[1].replace("%",""));return isNaN(m)?null:m<0?0:m>100?100:m})(),f=(()=>{let m=Number(i[2].split("/")[0].replace("%",""));return isNaN(m)?null:m<0?0:m>100?100:m})(),h=C(n,i);if(l!==null&&b!==null&&f!==null)return h===void 0?{h:l,s:b,l:f}:{h:l,s:b,l:f,a:h}}return null}function $(t){let n=t;n=n.replace(/^rgba\(/,""),n=n.replace(/^rgb\(/,""),n=n.replace(/\)$/,"");let i=n.includes(",")?n.split(","):n.split(" ");if(i.length>=3){let l=D(i[0]),b=D(i[1]),f=D(i[2].split("/")[0]),h=C(n,i);if(l!==null&&b!==null&&f!==null)return h===void 0?{r:l,g:b,b:f}:{r:l,g:b,b:f,a:h}}return null}var D=t=>{if(t.includes("%")){let n=Number(t.replace("%",""));return isNaN(n)?null:n<0?0:n>100?100:n}else{let n=Number(t);return isNaN(n)?null:n<0?0:n>255?255:n}};var L=t=>{switch(K(t)){case"hsl":return v(t);case"rgb":return(()=>{let n=$(t);if(n)return I(n)})();case"hex":return(()=>{let n=E(t);if(n)return I(n)})();default:return}};function H(t){return t.sort((n,i)=>n<i?-1:1),t}var W=[50,100,200,300,400,500,600,700,800,900,950],z=[50,100,150,200,250,300,350,400,450,500,550,600,650,700,750,800,850,900,950],Z=[100,200,300,400,500,600,700,800,900];function R(t){return(t<0?360+t:t)%360}function y(t,n){if(t===1||t===void 0)return"";let i=Math.round(t*1e3)/1e3,l=i!==0?String(i).replace("0.","."):String(i);return n==="slash"?` / ${l}`:`, ${l}`}function P(t){let n=y(t.a,"comma");return`hsl(${G(t.h)}, ${G(t.s)}%, ${G(t.l)}%${n})`}var G=t=>Math.round(t*10)/10;function k(t){let n=y(t.a,"comma");return`rgb(${t.r}, ${t.g}, ${t.b}${n})`}function O(t){try{let{h:n,s:i,l,a:b}=t;if(0<=n&&n<=360&&0<=i&&i<=100&&0<=l&&l<=100){let f=0,h=0,m=0,u=0,a=0,s=Number(n)/360,e=Number(i)/100,r=Number(l)/100;if(e===0)f=r,h=r,m=r;else{let o=(d,c,p)=>(p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?d+=(c-d)*6*p:p<.5?d=c:p<.6666666666666666&&(d+=(c-d)*(.6666666666666666-p)*6),d);r<.5?u=r*(1+e):u=r+e-r*e,a=2*r-u,f=o(a,u,s+1/3),h=o(a,u,s),m=o(a,u,s-1/3)}return{r:Math.round(f*255),g:Math.round(h*255),b:Math.round(m*255),a:b}}return{r:0,g:0,b:0,a:b}}catch(n){return console.warn(n),{r:0,g:0,b:0}}}function F(t){let{r:n,g:i,b:l,a:b}=t,f=(()=>b===void 0||b===1?"":T(Math.round(b*255).toString(16)))();return"#"+(T(Math.round(n).toString(16))+T(Math.round(i).toString(16))+T(Math.round(l).toString(16)))+f}var T=t=>(t.length==1&&(t="0"+t),t.length==0&&(t="00"),t);function Y(t,n){return n==="hsl"?P(t):n==="rgb"?k(O(t)):F(O(t))}function w(t,n,i){for(let l of n){let{overKey:b,underKey:f,hUnit:h,sUnit:m,lUnit:u,aUnit:a,baseHsl:s}=l,e=f===1e3?1001:f;if(b<=t&&t<e){let r=(t-b)/10,o=s.h+h*r,d=s.s+m*r,c=s.l+u*r,p=s.a+a*r,g={h:R(o),s:d<0?0:d>100?100:d,l:c<0?0:c>100?100:c,a:p<0?0:p>1?1:p};return Y(g,i)}}}function V(t,n){let{steps:i="standard",format:l="hex",prefix:b,extend:f,reversed:h=!1}=n||{},m=(()=>{let a=typeof i=="object"?i:i==="coarse"?Z:i==="fine"?z:W;if(f){let e=(()=>h?f.map(r=>1e3-r):f)().filter(r=>0<=r&&r<=1e3&&!a.includes(r));return H(a.concat(e))}return H(a)})(),u=(()=>{let a={};for(let s of m){let e=Number(s);if(!isNaN(e)){let r=w(s,t,l);r&&(a[e]=r)}}return a})();if(h){let a={};H(Object.keys(u).map(e=>Number(e))).forEach(e=>{a[1e3-e]=u[e]}),u=a}if(b){let a={};Object.keys(u).forEach(s=>{a[b+s]=u[s]}),u=a}return u}function x(t){console.warn(`[paletten error]: ${t}`)}function A(t){return t==null}function X(t,{rotate:n,darken:i,lighten:l,saturate:b,desaturate:f,transparentize:h,alpha:m}){let u=t.h,a=t.s,s=t.l,e=t.a??1;return n&&(u+=n,u<0&&(u=360+u),u>360&&(u=u-360)),(i||l)&&(l&&(s+=l*100),i&&(s-=i*100),s<0&&(s=0),s>100&&(s=100)),(b||f)&&(b&&(a+=b*100),f&&(a-=f*100),a<0&&(a=0),a>100&&(a=100)),m&&(e=m),h&&(e-=h,e<0&&(e=0),e>1&&(e=1)),{h:u,s:a,l:s,a:e}}function B(t){return!(!t||!t.rotate&&!t.darken&&!t.lighten&&!t.saturate&&!t.desaturate&&!t.transparentize&&!t.alpha)}var J=(t,n)=>t<90&&n>270?t-(n-360):t>270&&n<90?-(n-(t-360)):t-n;function _(t,n){let i=B(n),l=(()=>{let e=(()=>{let o={};for(let d in t){let c=t[d];o[d]={...c,a:c.a??1}}return o})();if(!i)return e;let r={};for(let o in e)r[o]=X(e[o],n);return r})(),[b,f,h]=(()=>{let e=100,r=15,o=0;if(i&&(n.darken||n.lighten)){let{darken:d,lighten:c}=n;if(d){let p=e-d<0?0:e-d,g=r-d<0?0:r-d,S=o-d<0?0:o-d;return[p,g,S]}if(c){let p=e+c>100?100:e+c,g=r+c>100?100:r+c,S=o+c>100?100:o+c;return[p,g,S]}}return[e,r,o]})(),[m,u]=(()=>{let[e,r]=(()=>{let c=[],p=[];return Object.keys(l).forEach(S=>{let U=l[S];c.push(U.s),p.push(U.l)}),[(()=>{let S=0;return c.forEach(U=>{S+=U}),S/c.length})()<20,H(p)]})(),o=(()=>{if(!A(l[1e3]))return l[1e3].l;let c=e?h:f,p=r[0];return p!==void 0&&p<c?0:c})(),d=(()=>{if(!A(l[0]))return l[0].l;let c=b,p=r.pop();return c=p!==void 0&&p>c?p:c,c>100?100:c})();return[o,d]})(),a=(()=>{let e=[];for(let r of Object.keys(l)){let o=et(r);o!==null&&e.push(o)}return H(e)})();if(!a.length)return x("Invalid argument error"),[];let s=[];if(a.length===1){let e=a[0],r=l[e];return e===0||e===1e3?(()=>{let o=1e3/10;return[{overKey:0,underKey:1e3,count:o,hUnit:0,sUnit:0,lUnit:e===0?(m-r.l)/o:(r.l-u)/o,aUnit:0,baseHsl:e===0?r:{h:r.h,s:r.s,l:u,a:r.a??1}}]})():(()=>{let o=e/10,d=(1e3-e)/10;return[{overKey:0,underKey:e,count:o,hUnit:0,sUnit:0,lUnit:(r.l-u)/o,aUnit:0,baseHsl:{h:r.h,s:r.s,l:u,a:r.a}},{overKey:e,underKey:1e3,count:d,hUnit:0,sUnit:0,lUnit:(m-r.l)/d,aUnit:0,baseHsl:r}]})()}if(a.forEach((e,r)=>{let o=l[e],d=a[r+1],c=l[d];if(c&&d){let p=(d-e)/10;s.push({overKey:e,underKey:d,count:p,hUnit:J(c.h,o.h)/p,sUnit:(c.s-o.s)/p,lUnit:(c.l-o.l)/p,aUnit:(c.a-o.a)/p,baseHsl:o})}else if(e<1e3){let p=s[s.length-1],g=(1e3-e)/10;p&&s.push({overKey:e,underKey:1e3,count:g,hUnit:p.hUnit,sUnit:p.sUnit,lUnit:m<o.l?(m-o.l)/g:-o.l*.5/g,aUnit:p.aUnit,baseHsl:o})}}),!a.includes(0)){let e=l[0],r=s[0];if(r){let o=r.overKey/10;e?s.push({overKey:0,underKey:r.overKey,count:o,hUnit:J(r.baseHsl.h,e.h)/o,sUnit:(r.baseHsl.s-e.s)/o,lUnit:(r.baseHsl.l-e.l)/o,aUnit:(r.baseHsl.a-e.a)/o,baseHsl:e}):s.push({overKey:0,underKey:r.overKey,count:o,hUnit:r.hUnit,sUnit:r.sUnit,lUnit:(r.baseHsl.l-u)/o,aUnit:r.aUnit,baseHsl:{h:r.baseHsl.h-r.hUnit*o,s:r.baseHsl.s-r.sUnit*o,l:u,a:r.baseHsl.a-r.aUnit*o}})}else console.warn("data is not passed")}return s}var et=t=>{let n=Number(t);return isNaN(n)?(x(`"${t}" is invalid key.`),null):((n<0||n>1e3)&&x(`"${t}" is invalid key.`),n<0?0:n>1e3?1e3:n)};var j=class{constructor(n){this.config=void 0;this.paletten=(n,i)=>Q(n,{...this.config,...i});this.config=n}};var Q=(t,n)=>{let i=n?{...n,steps:n.variant??n.steps}:void 0,l=(()=>{if(!t)return x("parameter 1 is invalid value."),[];if(typeof t=="string"){let b=L(t);return b?_({500:b},i):(x(`"${t}" is invalid value.`),[])}else{let b=(()=>{let f={};for(let h of Object.keys(t)){let m=t[h],u=L(m);u?f[h]=u:x(`"${m}" is invalid value.`)}return f})();return _(b,i)}})();return V(l,i)};export{j as Paletten,Q as paletten};
